<div class="container-fluid bottom-gutter content-panel">
  <div class="row">
    <div class="col-12">
      <h3>Teksti sõnavara hindamine</h3>
    </div>
    <div class="col-8 pr-4">
      <p>Teksti sõnavara hindamise programm analüüsib tekste sõnavara loendite põhjal ning näitab, mis keeleoskustaseme
        sõnavara tekst sisaldab.
      </p>
    </div>
    <div class="col-4">
      <button class="btn btn-submit float-right" (click)="modal.open()">Tagasiside</button>
    </div>
  </div>
  <form [formGroup]="form">
        <b>Keeleõppija:</b>
    <div class="pl-3 pb-4 row">
        <div class="custom-control custom-radio d-inline-block mr-4">
          <input type="radio" id="customRadio1" name="list" class="custom-control-input"
                 formControlName="list" value="noor" (ngModelChange)="setlangList()">
          <label class="custom-control-label" for="customRadio1">noor keeleõppija </label>
        </div>
        <div class="custom-control custom-radio d-inline-block">
          <input type="radio" id="customRadio2" name="list" class="custom-control-input"
                 formControlName="list" value="etLex" (ngModelChange)="setlangList()">
          <label class="custom-control-label" for="customRadio2">täiskasvanu</label>
        </div>
        </div>
    <div class="row">
      <div class="col-4">
        <div class="form-group d-flex flex-column h-100">
          <div class="d-flex flex-row">
          <label for="exampleFormControlTextarea1"><b>Sisesta tekst:</b></label>
          <small class="counter ml-auto mt-auto">{{this.form.controls.text.value.length}}/2000</small>
          </div>
          <div style="flex: 2">
          <textarea class="form-control text-area p-3" formControlName="text" id="exampleFormControlTextarea1"
                    maxlength="2000"></textarea>
          </div>
        </div>
      </div>
      <div class="col-6">
          <div class="row">
            <label><b>Keeletase:</b></label>

            <div formArrayName="lang" *ngFor="let lang of form.controls.lang.controls; let i = index">
              <div class="custom-control custom-checkbox pr-2">
                <input class="custom-control-input" type="checkbox" [formControlName]="i"
                       [id]="i" (ngModelChange)="wordColor(levels[i], lang.value)">
                <label class="color-{{levels[i]}} custom-control-label" [for]="i">
                  {{levels[i]}}
                </label>
              </div>
            </div>
          </div>
          <div class="row text-bg-white text-list border border-dark p-3 d-flex justify-content-between">
            <div class="pr-2 h-25" [id]="i" *ngFor="let word of this.resultData; let i = index">
              <p [ngClass]="colors(word.level)" ngbPopover="{{word.pos_text}}"
                 triggers="mouseenter:mouseleave" placement="top">{{word.token}}</p>
            </div>
          </div>
      </div>
      <div class="col-2 pt-4">
      <div class="bg-white rating-table bg-white py-1 px-3 border border-dark">
        Sõnu kokku: {{wordCount}}
        <div class="row table-border m-0">
          <div class="col-5 pl-0">
            Keeletase
          </div>
          <div class="col-3 pl-0">
            Sõnu
          </div>
          <div class="col-4 pl-0">
            %
          </div>
        </div>
        <div class="row" *ngFor="let item of smTable">
          <div class="col-5">
            {{item.label}}
          </div>
          <div class="col-3">
            {{item.count}}
          </div>
          <div class="col-4 pl-0">
            {{item.percentage}}
          </div>
        </div>
      </div>
      </div>
    </div>
    <button class="btn btn-submit mt-3" (click)="getData(); clicked = true;">Hinda</button>
  </form>
  <app-feedback-modal></app-feedback-modal>
</div>
